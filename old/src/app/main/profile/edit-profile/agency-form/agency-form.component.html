<div fxLayout="column">

  <div fxLayout="column" fxLayoutAlign="center center">

    <div fxLayout="column" fxLayoutAlign="center" fxLayoutGap="30px">

      <div class="title">{{ 'EDIT_PROFILE' | translate }}</div>


      <form name="registerForm" [formGroup]="registerForm" (ngSubmit)="onSubmit()" novalidate fxLayout="column" fxLayoutAlign="center" fxLayoutGap="10px">

        <!-- email -->
        <mat-form-field appearance="outline">
          <mat-label>{{ 'TITLE_EMAIL' | translate }}</mat-label>
          <input matInput formControlName="email">
          <mat-icon matSuffix class="secondary-text">mail</mat-icon>
          <mat-error *ngIf="registerForm.get('email').hasError('required')">
            Email is required
          </mat-error>
          <mat-error *ngIf="registerForm.get('email').hasError('email')">
            Please enter a valid email address
          </mat-error>
          <mat-hint *ngIf="registerForm.get('email').status === 'PENDING'">
            Checking...
          </mat-hint>
          <mat-hint *ngIf="registerForm.get('email').status === 'VALID'">
            ðŸ˜º Email is available!
          </mat-hint>
          <mat-error *ngIf="registerForm.get('email').hasError('isExists')">
            ðŸ˜¢ Oh noes, this email is already taken!
          </mat-error>
        </mat-form-field>

        <!-- name -->
        <mat-form-field appearance="outline">
          <mat-label>{{ 'TITLE_NAME' | translate }}</mat-label>
          <input type="text" matInput formControlName="name"/>
          <mat-hint>
            {{ 'HELP_NAME' | translate }}
          </mat-hint>
          <mat-error *ngIf="registerForm.get('name').hasError('required')">
            {{ 'ERROR_NAME' | translate }}
          </mat-error>
        </mat-form-field>

        <!-- name boss -->
        <mat-form-field appearance="outline">
          <mat-label>{{ 'TITLE_NAME_BOSS' | translate }}</mat-label>
          <input type="text" matInput formControlName="name_boss"/>
          <mat-hint>
            {{ 'HELP_NAME_BOSS' | translate }}
          </mat-hint>
          <mat-error *ngIf="registerForm.get('name_boss').hasError('required')">
            {{ 'ERROR_NAME_BOSS' | translate }}
          </mat-error>
        </mat-form-field>

        <!-- login -->
        <mat-form-field appearance="outline">
          <mat-label>{{ 'TITLE_LOGIN' | translate }}</mat-label>
          <input type="text" matInput formControlName="login"/>
          <mat-hint>
            {{ 'HELP_LOGIN' | translate }}
          </mat-hint>
          <mat-error *ngIf="registerForm.get('login').hasError('required')">
            {{ 'ERROR_LOGIN' | translate }}
          </mat-error>
        </mat-form-field>

        <!-- password -->
        <mat-form-field appearance="outline">
          <mat-label>{{ 'TITLE_PASSWORD' | translate }}</mat-label>
          <input type="text" matInput formControlName="password"/>
          <mat-hint>
            {{ 'HELP_PASSWORD' | translate }}
          </mat-hint>
          <mat-error *ngIf="registerForm.get('password').hasError('required')">
            {{ 'ERROR_PASSWORD' | translate }}
          </mat-error>
        </mat-form-field>

        <!-- address -->
        <mat-form-field appearance="outline">
          <mat-label>{{ 'TITLE_ADDRESS' | translate }}</mat-label>
          <input type="text" matInput formControlName="address"/>
          <mat-hint>
            {{ 'HELP_ADDRESS' | translate }}
          </mat-hint>
          <mat-error *ngIf="registerForm.get('address').hasError('required')">
            {{ 'ERROR_ADDRESS' | translate }}
          </mat-error>
        </mat-form-field>

        <!-- city -->
        <mat-form-field appearance="outline">
          <mat-label>{{ 'TITLE_CITY' | translate }}</mat-label>
          <input type="text" matInput formControlName="city"/>
          <mat-hint>
            {{ 'HELP_CITY' | translate }}
          </mat-hint>
          <mat-error *ngIf="registerForm.get('city').hasError('required')">
            {{ 'ERROR_CITY' | translate }}
          </mat-error>
        </mat-form-field>

        <!-- country -->
        <mat-form-field appearance="outline">
          <mat-label>{{ 'TITLE_COUNTRY' | translate }}</mat-label>
          <input type="text" matInput formControlName="country"/>
          <mat-hint>
            {{ 'HELP_COUNTRY' | translate }}
          </mat-hint>
          <mat-error *ngIf="registerForm.get('country').hasError('required')">
            {{ 'ERROR_COUNTRY' | translate }}
          </mat-error>
        </mat-form-field>

        <!-- skype -->
        <mat-form-field appearance="outline">
          <mat-label>{{ 'TITLE_SKYPE' | translate }}</mat-label>
          <input type="text" matInput formControlName="skype"/>
          <mat-hint>
            {{ 'HELP_SKYPE' | translate }}
          </mat-hint>
        </mat-form-field>

        <!-- phone1 -->
        <mat-form-field appearance="outline">
          <mat-label>{{ 'TITLE_PHONE1' | translate }}</mat-label>
          <input type="text" matInput formControlName="phone1"/>
          <mat-hint>
            {{ 'HELP_PHONE1' | translate }}
          </mat-hint>
        </mat-form-field>

        <!-- phone2 -->
        <mat-form-field appearance="outline">
          <mat-label>{{ 'TITLE_PHONE2' | translate }}</mat-label>
          <input type="text" matInput formControlName="phone2"/>
          <mat-hint>
            {{ 'HELP_PHONE2' | translate }}
          </mat-hint>
        </mat-form-field>

        <!-- count_woman -->
        <mat-form-field appearance="outline">
          <mat-label>{{ 'TITLE_COUNT_WOMAN' | translate }}</mat-label>
          <input type="text" matInput formControlName="count_woman"/>
          <mat-hint>
            {{ 'HELP_COUNT_WOMAN' | translate }}
          </mat-hint>
        </mat-form-field>

        <!-- working_time -->
        <mat-form-field appearance="outline">
          <mat-label>{{ 'TITLE_WORKING_TIME' | translate }}</mat-label>
          <input type="text" matInput formControlName="working_time"/>
          <mat-hint>
            {{ 'HELP_WORKING_TIME' | translate }}
          </mat-hint>
        </mat-form-field>

        <!-- photo -->
        <div class="row">
          <input
              hidden
              formControlName="photo"
              type="file"
              class="form-control"
              (change)="onFileChange($event)"
              #uploader/>
          <a mat-raised-button color="accent" (click)="uploader.click()">
            {{ 'BUTTON_ADD_IMAGE' | translate }}
          </a>
          <div class="col-md-4 mx-2" *ngFor="let im of images; let i = index">
            <img [src]="im" width="100px" height="100%"/>
            <button mat-raised-button color="warn" (click)="deleteImg(i)">{{ 'BUTTON_DELETE_IMAGE' | translate }}
            </button>
          </div>
        </div>

        <button type="submit" mat-raised-button color="accent" class="submit-button" aria-label="SAVE CHANGES"
                [disabled]="registerForm.invalid">
          Save changes
        </button>
      </form>

    </div>
  </div>
</div>
